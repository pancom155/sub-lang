<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nice Try</title>
  <style>
    :root{
      --bg:#0b1220;
      --card-bg: rgba(255,255,255,0.03);
      --muted:#c7cdd6;
      --accent:#ff4747;
      --accent-hover:#ff1c1c;
    }

    html,body{
      height:100%;
      margin:0;
      padding:0;
      font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(135deg,var(--bg) 0%, #071021 100%);
      color: #ffffff;
    }

    /* full-viewport centered layout */
    .wrap{
      height:100vh;
      width:100%;
      display:grid;
      place-items:center;
      box-sizing:border-box;
      padding:24px;
    }

    .card{
      width:100%;
      height:100%;
      max-width:1200px;
      max-height:900px;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      gap:22px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:16px;
      padding:20px;
      box-shadow: 0 12px 40px rgba(2,6,23,0.7);
      overflow:hidden;
    }

    .gif-wrap{
      width:100%;
      height:70%;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .gif{
      width:100%;
      height:100%;
      object-fit:contain; /* keeps full view without cropping */
      border-radius:10px;
      max-width:1100px;
      max-height:720px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      background:#0b1220;
    }

    .text{
      width:100%;
      text-align:center;
      padding: 6px 10px;
    }

    h1{
      margin:0;
      font-size:28px;
      letter-spacing:-0.2px;
      color:#fff;
      font-weight:600;
    }

    p{
      margin:8px 0 0 0;
      color:var(--muted);
      font-size:16px;
      line-height:1.4;
    }

    .actions{
      margin-top:10px;
      display:flex;
      gap:12px;
      justify-content:center;
      width:100%;
    }

    .btn{
      appearance:none;
      border:0;
      cursor:pointer;
      padding:12px 22px;
      border-radius:10px;
      font-weight:600;
      font-size:15px;
      background:var(--accent);
      color:white;
      box-shadow: 0 8px 20px rgba(0,0,0,0.45);
      transition:transform .12s ease, background .12s ease;
    }
    .btn:hover{ transform:translateY(-2px); background:var(--accent-hover); }
    .btn.secondary{
      background:transparent;
      border:1px solid rgba(255,255,255,0.08);
      color:var(--muted);
      box-shadow:none;
    }

    @media (max-width:720px){
      .card{ padding:12px; gap:12px; }
      h1{ font-size:22px; }
      .gif-wrap{ height:60%; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="main" aria-live="polite">
      <div class="gif-wrap">
        <img
          class="gif"
          src="<%= typeof gifUrl !== 'undefined' ? gifUrl : 'https://media.giphy.com/media/l0MYt5jPR6QX5pnqM/giphy.gif' %>"
          alt="Funny bypass illustration"
        />
      </div>

      <div class="text">
        <h1>Nice Try</h1>
        <p>You attempted to access a restricted page directly. This page will remain here until you choose where to go next.</p>

        <div class="actions">
          <button class="btn" id="backBtn">Go back to previous page</button>
          <button class="btn secondary" id="loginBtn">Go to Login</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    (function () {
      const backBtn = document.getElementById('backBtn');
      const loginBtn = document.getElementById('loginBtn');

      backBtn.addEventListener('click', function () {
        // If there is a previous entry in the history stack, go back.
        // Otherwise, fall back to /login
        try {
          if (history.length > 1) {
            history.back();
          } else {
            window.location.href = '/login';
          }
        } catch (e) {
          window.location.href = '/login';
        }
      });

      loginBtn.addEventListener('click', function () {
        window.location.href = '/login';
      });

      // prevent this page from being cached in bfcache so "back" behaviour is consistent
      window.addEventListener('pageshow', function (evt) {
        if (evt.persisted) {
          // a persisted restore (bfcache) â€” keep page visible (do nothing)
        }
      });
    })();
  </script>
</body>
</html>
